<!doctype html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head th:replace="admin/_layout :: head(~{::title})">
    <title>UTESHOP • Admin Dashboard</title>
</head>
<body>

<!-- Gọi layout chung & truyền fragment content -->
<div th:replace="admin/_layout :: layout(~{::content})">

    <div th:fragment="content">
        <style>
            .banner{
                background:#f8fafc url('/assets/images/slider/slider-image-1.jpg') center/cover no-repeat;
                border-radius:1rem; min-height:140px;
            }
            .rounded-12{ border-radius:12px; }
            .card-stat h2{ font-size:32px; margin:0; }
        </style>

        <!-- Banner -->
        <div class="banner d-flex align-items-center p-4 mb-4">
            <div>
                <h3 class="mb-1">Welcome back! <span class="text-primary">UTESHOP</span></h3>
                <p class="text-muted mb-3">Simple &amp; clean admin for developer and designer.</p>
                <a href="/admin/products/new" class="btn btn-success">
                    <i class="bi bi-plus-circle"></i> Create Product
                </a>
            </div>
        </div>

        <!-- Stats -->
        <div class="row g-3 mb-3">
            <div class="col-12 col-md-4">
                <div class="card shadow-sm rounded-12 card-stat">
                    <div class="card-body d-flex align-items-center justify-content-between">
                        <div>
                            <div class="text-muted">Earnings</div>
                            <h2 id="stat-earnings">$93,438.78</h2>
                            <small class="text-muted">Monthly revenue</small>
                        </div>
                        <span class="badge rounded-circle p-3 bg-light"><i class="bi bi-currency-dollar"></i></span>
                    </div>
                </div>
            </div>

            <div class="col-12 col-md-4">
                <div class="card shadow-sm rounded-12 card-stat">
                    <div class="card-body d-flex align-items-center justify-content-between">
                        <div>
                            <div class="text-muted">Orders</div>
                            <h2 id="stat-orders">42,339</h2>
                            <small class="text-muted"><span class="text-success">35+</span> new sales</small>
                        </div>
                        <span class="badge rounded-circle p-3 bg-light"><i class="bi bi-bag"></i></span>
                    </div>
                </div>
            </div>

            <div class="col-12 col-md-4">
                <div class="card shadow-sm rounded-12 card-stat">
                    <div class="card-body d-flex align-items-center justify-content-between">
                        <div>
                            <div class="text-muted">Customers</div>
                            <h2 id="stat-customers">39,354</h2>
                            <small class="text-muted"><span class="text-primary">30+</span> new in 2 days</small>
                        </div>
                        <span class="badge rounded-circle p-3 bg-light"><i class="bi bi-people"></i></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Charts + Sales -->
        <div class="row g-3">
            <div class="col-12 col-xl-8">
                <div class="card shadow-sm rounded-12">
                    <div class="card-header bg-white d-flex align-items-center justify-content-between">
                        <div>
                            <strong>Revenue</strong>
                            <small class="text-muted ms-2">(+63%) than last year</small>
                        </div>
                        <div class="dropdown">
                            <button class="btn btn-sm btn-outline-secondary dropdown-toggle" data-bs-toggle="dropdown">2019</button>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#">2025</a></li>
                                <li><a class="dropdown-item" href="#">2024</a></li>
                                <li><a class="dropdown-item" href="#">2023</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="ratio ratio-21x9 bg-light rounded-12 d-flex align-items-center justify-content-center">
                            <span class="text-muted">Revenue Chart Placeholder (canvas id="revChart")</span>
                        </div>
                        <canvas id="revChart" class="d-none"></canvas>
                    </div>
                </div>
            </div>

            <div class="col-12 col-xl-4">
                <div class="card shadow-sm rounded-12">
                    <div class="card-header bg-white"><strong>Total Sales</strong></div>
                    <div class="card-body">
                        <div class="ratio ratio-1x1 bg-light rounded-12 d-flex align-items-center justify-content-center mb-3">
                            <span class="text-muted">Donut Chart Placeholder (canvas id="salesChart")</span>
                        </div>
                        <canvas id="salesChart" class="d-none"></canvas>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                Online <span class="badge bg-primary rounded-pill">6,200</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                In-store <span class="badge bg-warning rounded-pill text-dark">2,400</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                Returns <span class="badge bg-danger rounded-pill">400</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Recent Orders & Top Products -->
        <div class="row g-3 mt-1">
            <div class="col-12 col-xl-8">
                <div class="card shadow-sm rounded-12">
                    <div class="card-header bg-white d-flex align-items-center justify-content-between">
                        <strong>Recent Orders</strong>
                        <a href="/admin/orders" class="btn btn-sm btn-outline-secondary">View all</a>
                    </div>
                    <div class="table-responsive">
                        <table class="table align-middle mb-0">
                            <thead class="table-light">
                            <tr>
                                <th>#</th><th>Customer</th><th>Date</th><th>Total</th><th>Status</th><th></th>
                            </tr>
                            </thead>
                            <tbody id="tbl-recent-orders">
                            <tr>
                                <td>ORD-9201</td>
                                <td>Nguyễn Văn A</td>
                                <td>2025-10-10</td>
                                <td>$120.00</td>
                                <td><span class="badge bg-success">Delivered</span></td>
                                <td><a class="btn btn-sm btn-light" href="/admin/orders/9201">Details</a></td>
                            </tr>
                            <tr>
                                <td>ORD-9200</td>
                                <td>Trần Thị B</td>
                                <td>2025-10-10</td>
                                <td>$89.00</td>
                                <td><span class="badge bg-warning text-dark">Shipping</span></td>
                                <td><a class="btn btn-sm btn-light" href="/admin/orders/9200">Details</a></td>
                            </tr>
                            <tr>
                                <td>ORD-9199</td>
                                <td>Lê Văn C</td>
                                <td>2025-10-09</td>
                                <td>$65.50</td>
                                <td><span class="badge bg-secondary">Confirmed</span></td>
                                <td><a class="btn btn-sm btn-light" href="/admin/orders/9199">Details</a></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="col-12 col-xl-4">
                <div class="card shadow-sm rounded-12">
                    <div class="card-header bg-white"><strong>Top Products</strong></div>
                    <ul class="list-group list-group-flush" id="list-top-products">
                        <li class="list-group-item d-flex align-items-center">
                            <img src="/assets/images/products/p1.jpg" class="rounded me-3" width="40" height="40" alt="">
                            <div class="flex-fill">
                                <div class="fw-semibold">Organic Tomato</div>
                                <small class="text-muted">1.2k sold</small>
                            </div>
                            <span class="fw-semibold">$3.20</span>
                        </li>
                        <li class="list-group-item d-flex align-items-center">
                            <img src="/assets/images/products/p2.jpg" class="rounded me-3" width="40" height="40" alt="">
                            <div class="flex-fill">
                                <div class="fw-semibold">Fresh Pineapple</div>
                                <small class="text-muted">980 sold</small>
                            </div>
                            <span class="fw-semibold">$6.90</span>
                        </li>
                        <li class="list-group-item d-flex align-items-center">
                            <img src="/assets/images/products/p3.jpg" class="rounded me-3" width="40" height="40" alt="">
                            <div class="flex-fill">
                                <div class="fw-semibold">Green Broccoli</div>
                                <small class="text-muted">860 sold</small>
                            </div>
                            <span class="fw-semibold">$4.10</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

    </div><!-- /content fragment -->
</div><!-- /layout replace -->

</body>
</html>
